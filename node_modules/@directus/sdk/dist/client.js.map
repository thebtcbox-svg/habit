{"version":3,"file":"client.js","names":["defaultGlobals: ClientGlobals"],"sources":["../src/client.ts"],"sourcesContent":["import type { ClientGlobals, ClientOptions, DirectusClient } from './types/client.js';\n\n/**\n * The default globals supplied to the client\n */\nconst defaultGlobals: ClientGlobals = {\n\tfetch: globalThis.fetch,\n\tWebSocket: globalThis.WebSocket,\n\tURL: globalThis.URL,\n\tlogger: globalThis.console,\n};\n\n/**\n * Creates a client to communicate with a Directus app.\n *\n * @param url The URL to the Directus app.\n * @param options The client options. Defaults to the standard implementation of `globals`.\n *\n * @returns A Directus client.\n */\nexport const createDirectus = <Schema = any>(url: string, options: ClientOptions = {}): DirectusClient<Schema> => {\n\tconst globals = options.globals ? { ...defaultGlobals, ...options.globals } : defaultGlobals;\n\treturn {\n\t\tglobals,\n\t\turl: new globals.URL(url),\n\t\twith(createExtension) {\n\t\t\treturn {\n\t\t\t\t...this,\n\t\t\t\t...createExtension(this),\n\t\t\t};\n\t\t},\n\t};\n};\n"],"mappings":"AAKA,MAAMA,EAAgC,CACrC,MAAO,WAAW,MAClB,UAAW,WAAW,UACtB,IAAK,WAAW,IAChB,OAAQ,WAAW,QACnB,CAUY,GAAgC,EAAa,EAAyB,EAAE,GAA6B,CACjH,IAAM,EAAU,EAAQ,QAAU,CAAE,GAAG,EAAgB,GAAG,EAAQ,QAAS,CAAG,EAC9E,MAAO,CACN,UACA,IAAK,IAAI,EAAQ,IAAI,EAAI,CACzB,KAAK,EAAiB,CACrB,MAAO,CACN,GAAG,KACH,GAAG,EAAgB,KAAK,CACxB,EAEF"}