{"version":3,"file":"login.cjs","names":["getAuthEndpoint","authData: Record<string, string>"],"sources":["../../../../src/rest/commands/auth/login.ts"],"sourcesContent":["import type {\n\tAuthenticationData,\n\tLDAPLoginPayload,\n\tLocalLoginPayload,\n\tLoginOptions,\n\tLoginPayload,\n} from '../../../index.js';\nimport type { RestCommand } from '../../types.js';\nimport { getAuthEndpoint } from '../../utils/get-auth-endpoint.js';\n\n/**\n * Authenticate as a user.\n *\n * @param email Email address of the user.\n * @param password Password of the user.\n * @param options Optional login settings.\n *\n * @returns Authentication data.\n */\nexport function login<Schema>(\n\tpayload: LocalLoginPayload,\n\toptions?: LoginOptions,\n): RestCommand<AuthenticationData, Schema>;\nexport function login<Schema>(\n\tpayload: LDAPLoginPayload,\n\toptions?: LoginOptions,\n): RestCommand<AuthenticationData, Schema>;\nexport function login<Schema>(\n\tpayload: LoginPayload,\n\toptions: LoginOptions = {},\n): RestCommand<AuthenticationData, Schema> {\n\treturn () => {\n\t\tconst path = getAuthEndpoint(options.provider);\n\t\tconst authData: Record<string, string> = payload;\n\t\tif ('otp' in options) authData['otp'] = options.otp;\n\t\tauthData['mode'] = options.mode ?? 'cookie';\n\t\treturn { path, method: 'POST', body: JSON.stringify(authData) };\n\t};\n}\n"],"mappings":"qDA2BA,SAAgB,EACf,EACA,EAAwB,EAAE,CACgB,CAC1C,UAAa,CACZ,IAAM,EAAOA,EAAAA,gBAAgB,EAAQ,SAAS,CACxCC,EAAmC,EAGzC,MAFI,QAAS,IAAS,EAAS,IAAS,EAAQ,KAChD,EAAS,KAAU,EAAQ,MAAQ,SAC5B,CAAE,OAAM,OAAQ,OAAQ,KAAM,KAAK,UAAU,EAAS,CAAE"}